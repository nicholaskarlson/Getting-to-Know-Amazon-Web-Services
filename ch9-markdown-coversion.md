# Getting to Know Amazon Web Services (AWS) as of September 2021


## An Open Textbook

By Nicholas Elliott Karlson


# Chapter 9 - Application Integration


## Intro 

**AWS Global Infrastructure**: Understand how AWS's infrastructure is geographically distributed across regions, availability zones, and edge locations.

**Compute Services**: Familiarize yourself with Amazon EC2 instances, AWS Lambda, and Elastic Beanstalk. Each service has its use case, such as running applications on virtual servers (EC2), running code without provisioning servers (Lambda), or deploying apps developed in Java, .NET, PHP, Node.js, etc. (Elastic Beanstalk).

**Storage Services**: Understand Amazon S3 for object storage, EBS for block-level storage, and Amazon Glacier for long-term cold storage.

**Database Services**: Be familiar with Amazon RDS, DynamoDB, ElastiCache, and Redshift, each providing different database functionalities, from relational, NoSQL, caching to data warehousing.

**Networking & Content Delivery**: Study Amazon VPC for virtual private cloud environments, ELB for load balancing, Route 53 for DNS services, and CloudFront for content delivery.

**Security, Identity & Compliance**: Comprehend AWS IAM for identity and access management, Amazon Cognito for mobile user identity, and KMS for key management.

**Management Tools**: Know the basic functionality of CloudWatch for monitoring, CloudFormation for infrastructure as code, CloudTrail for AWS API call recording, and Trusted Advisor for real-time guidance.

**Application Integration**: Understand SQS (queue service), SNS (notification service), and step functions (serverless workflow service).

**AWS Pricing and Cost Management**: Know how to calculate costs, use the AWS Pricing Calculator, and understand the fundamentals of the AWS Free Tier, On-Demand vs Reserved vs Spot instances.

**Well-Architected Framework**: AWS provides this framework as a guide to creating efficient and effective systems. It includes five pillars: operational excellence, security, reliability, performance efficiency, and cost optimization.

**Shared Responsibility Model**: An understanding of the shared responsibility model is important. AWS is responsible for "security of the cloud," while customers are responsible for "security in the cloud."

**AWS Architectural Principles**: These include designing for failure, implementing elasticity, and decoupling components of your application.


## AWS Application Integration

Application integration in AWS involves the use of various services that enable different software applications, often running in different environments, to work together seamlessly. These AWS services facilitate the exchange of data and processes among different applications and systems, both on-premises and in the cloud. Here are the key AWS Application Integration services:

**AWS Step Functions**: AWS Step Functions is a serverless workflow service that lets you coordinate distributed applications using visual workflows. It allows you to design and run workflows that stitch together services like AWS Lambda, AWS Fargate, and Amazon SageMaker into feature-rich applications.

**Amazon Simple Notification Service** (SNS): SNS is a fully managed pub/sub messaging service that allows you to decouple microservices, distributed systems, and serverless applications. SNS provides topics for high-throughput, push-based, many-to-many messaging.

**Amazon Simple Queue Service** (SQS): SQS is a fully managed message queuing service that enables you to decouple and scale microservices, distributed systems, and serverless applications. SQS eliminates the complexity and overhead associated with managing and operating message oriented middleware, and empowers developers to focus on differentiating work.

**Amazon AppFlow**: Amazon AppFlow is a fully managed integration service that enables you to securely transfer data between Software-as-a-Service (SaaS) applications like Salesforce, Marketo, Slack, and ServiceNow, and AWS services like Amazon S3 and Amazon Redshift, in just a few clicks.

**Amazon EventBridge**: EventBridge is a serverless event bus service that makes it easy to connect your applications with data from a variety of sources. You can build powerful event-driven applications with a variety of AWS resources and SaaS applications, and respond to operational changes in your environment.

**AWS Lambda**: Though not strictly an integration service, Lambda often plays a key role in application integration in AWS. It lets you run your code without provisioning or managing servers. You can use AWS Lambda to execute your back-end application code in response to events, such as changes to data in an Amazon S3 bucket, updates to a DynamoDB table, custom events generated by your applications, etc.

**Amazon MQ**: Amazon MQ is a managed message broker service for Apache ActiveMQ and RabbitMQ that makes it easy to set up and operate message brokers in the cloud. Message brokers allow different software systems to communicate and exchange information.

These services can be used individually or in combination, depending on your specific integration needs. For instance, you might use SQS and SNS together to decouple and scale microservices, distributed systems, and serverless applications. Or, you could use Lambda and EventBridge to respond to system-wide operational changes. By leveraging these application integration services, you can create scalable, serverless, event-driven applications and workflows.


# AWS Application Integration - Detail


## AWS Step Functions

**AWS Step Functions** is a serverless workflow service that allows you to coordinate multiple AWS services into serverless workflows so you can build and update applications quickly. These workflows can be used to create and coordinate microservices, manage ETL jobs, handle machine learning pipelines, and more.

**Here are the key aspects and features of AWS Step Functions**:

1. Coordination and Orchestration: AWS Step Functions allows you to coordinate individual tasks into a visual workflow. This lets you build complex processes out of smaller, reusable components.

2. State Tracking: AWS Step Functions tracks each step of your application, ensuring they complete in order and as expected. It automatically triggers and tracks each step, retries when there are errors, and logs the status of each step so you can diagnose and debug problems quickly.

3. Built-In Error Handling: AWS Step Functions is designed to handle errors. It provides built-in catch, retry, and rollback capabilities with customizable parameters for each step.

4. Visual Workflows: AWS Step Functions enables you to visualize your workflow with a graphical console. This makes it easier to build, understand, and share your application's flow.

5. Scalability: AWS Step Functions automatically scales in response to incoming traffic. You don't have to worry about provisioning servers or other infrastructure, and you only pay for the transitions between steps.

6. Integration with AWS Services: AWS Step Functions can be used with multiple AWS services including AWS Lambda, Amazon SNS, Amazon DynamoDB, AWS Batch, and others, making it easy to coordinate tasks across different services.

7. Long Running Operations: AWS Step Functions can run workflows that last up to a year, allowing you to manage long running operations like customer onboarding or complex data transformations.

In summary, AWS Step Functions provides a way to create, manage, and visualize workflows that stitch together services like AWS Lambda, AWS Fargate, and Amazon SageMaker into feature-rich applications. It handles the underlying coordination and state management so you can focus on the components of your application.


## Amazon Simple Notification Service

**Amazon Simple Notification Service** (Amazon SNS) is a fully managed publish/subscribe (pub/sub) messaging service that lets you decouple microservices, distributed systems, and serverless applications. It provides a robust, highly available, and scalable infrastructure for the asynchronous delivery of messages from publishers to subscribers.

**Here are the key aspects and features of Amazon SNS**:

1. Topics: In Amazon SNS, you create a "topic", which is an access point for allowing recipients to dynamically subscribe for identical copies of the same notification. One topic can support deliveries to multiple endpoint types -- for example, you could group together iOS, Android and SMS recipients. When you publish once to a topic, SNS delivers appropriately formatted copies of your message to each subscriber.

2. Publishers and Subscribers: Publishers produce and send messages to topics. Subscribers (i.e., web servers, email addresses, AWS Lambda functions, SQS queues, and more) consume or receive the messages or notifications from topics to which they are subscribed.

3. Message Filtering: Amazon SNS supports message filtering, which lets you simplify your pub/sub architecture by offloading message filtering logic from your subscriber systems, as well as from your publisher systems.

4. High Throughput: Amazon SNS can support an unlimited number of topics and subscriptions, including a high rate of message throughput.

5. Durability: SNS messages are stored redundantly across multiple servers and datacenters to prevent loss. This makes Amazon SNS a durable messaging service.

6. Security: Amazon SNS provides a number of security measures. Access control policies can be used to specify who can publish messages and subscribe to topics. In addition, SNS notifications can be encrypted using AWS Key Management Service to ensure that messages are only readable by intended recipients.

7. Integration: Amazon SNS can be used with other AWS services such as Amazon SQS, AWS Lambda, AWS CloudTrail, and Amazon CloudWatch, among others.

In summary, Amazon SNS provides a highly scalable, flexible, and cost-effective capability to publish messages from an application and immediately deliver them to subscribers or other applications, thereby enabling you to build distributed web-enabled applications more quickly and easily.


## Amazon Simple Queue Service

**Amazon Simple Queue Service** (Amazon SQS) is a fully managed, reliable, and highly scalable cloud-based message queuing service that enables the decoupling of distributed components of a cloud application. It allows components to run independently, making the entire system more robust and scalable.

**Here are some of the key aspects and features of Amazon SQS**:

1. Decoupling: The primary use of SQS is to decouple the components of a cloud application. With SQS, you have a highly reliable, scalable queue that can buffer messages (or a piece of data) between components.

2. Message Queuing: SQS stores messages in a queue until they're processed. This ensures that no message is lost if the component reading the messages fails or pauses. Once the message is successfully processed, it's deleted from the queue.

3. Types of Queues: SQS provides two types of message queues. Standard queues offer maximum throughput, best-effort ordering, and at-least-once delivery. SQS FIFO (First In, First Out) queues are designed to ensure that the order of messages is preserved and that each message is processed exactly once.

4. Durability: SQS stores messages redundantly across multiple servers and data centers to ensure they are available whenever applications need them.

5. Visibility Timeout: When a consumer retrieves a message from the queue, it remains in the queue but becomes invisible to other consumers. This timeout period is to ensure that the consumer has enough time to process and delete the message from the queue.

6. Delay Queues: You can postpone the delivery of new messages to a queue for a number of seconds by using delay queues.

7. Dead Letter Queue: This is a queue that other (source) queues can target for messages that can't be processed (consumed) successfully.

8. Security: SQS allows you to use AWS IAM to manage permissions for your Amazon SQS resources and also supports encrypting your messages using AWS Key Management Service (AWS KMS).

9. Scaling and Cost-effectiveness: SQS scales horizontally and can process each buffered request independently, scaling transparently to handle any load increases or spikes without any provisioning instructions. With SQS, you only pay for what you use, and there are no minimum fees.

In summary, Amazon SQS offers a reliable, highly scalable, and simple way for components of a distributed cloud application to communicate asynchronously.


## Amazon AppFlow

**Amazon AppFlow** is a fully managed integration service that enables you to securely transfer data between software as a service (SaaS) applications like Salesforce, Marketo, Slack, and ServiceNow, and AWS services like Amazon S3 and Amazon Redshift, in just a few clicks.

Here are some key aspects and features of Amazon AppFlow:

1. Simplified data transfer: AppFlow simplifies the process of setting up data transfers, eliminating the need for extensive coding or maintaining APIs for different services.

2. Security: The service encrypts data at rest and in transit using AWS or customer managed keys. It also supports private data transfers using AWS PrivateLink.

3. Transformation capabilities: AppFlow allows you to map source fields to target fields. It also provides built-in functions for data transformation, such as concatenating or masking fields, validating email addresses, or converting strings to integers.

4. Event-driven and scheduled data flows: You can run data flows in response to events, such as the creation of a sales opportunity in Salesforce, or on a schedule - hourly, daily, or at any custom interval.

5. Bi-directional data flow: AppFlow supports bi-directional data flows. For example, you can aggregate customer data from various SaaS applications to Amazon S3 for analytics, and then transfer results back to the SaaS applications for action.

6. High-volume data transfer: AppFlow can transfer large volumes of data. It automatically scales to match the volume of data being transferred, from hundreds of records to millions.

7. Error handling: AppFlow has built-in error handling mechanisms to manage API throttling and exceptions, which helps ensure data is transferred successfully.

8. Integration with AWS Services: AppFlow integrates well with other AWS services. For instance, data transferred to Amazon S3 or Amazon Redshift can be analyzed using Amazon Athena, Amazon QuickSight, or AWS Glue.

In summary, Amazon AppFlow provides a secure and efficient way to create complex data flows between your applications without writing custom integration code.


## Amazon EventBridge

**Amazon EventBridge** is a serverless event bus service that makes it easy to connect applications together using data from your own applications, integrated Software-as-a-Service (SaaS) applications, and AWS services. EventBridge is the next generation of Amazon CloudWatch Events and extends its capabilities for ingesting, filtering, transforming, and delivering events.

**Here are some key aspects and features of Amazon EventBridge**:

1. Event-Driven Architecture: EventBridge allows you to build event-driven architectures where applications communicate with each other through events. An event indicates a change in an environment, and EventBridge enables applications to react to these changes.

2. Event Buses: EventBridge uses event buses to receive and send events. You can create custom event buses for your own events, and there's a default event bus for AWS service events.

3. Event Sources and Targets: Event sources are the producers of events, and these can be AWS services, integrated SaaS applications, or custom applications. Targets are the services that handle events. A single event bus can have multiple sources and targets.

4. Rules: Rules determine how events are routed from the event bus to targets. When an event matches a rule, it's delivered to all the specified targets for that rule.

5. Schema Registry: The EventBridge Schema Registry stores event structure (or schema) in a shared central location and maps those schemas to code for Java, Python, and TypeScript, making it easier to use events as objects in your code.

6. Integration with SaaS Applications: EventBridge provides built-in integration with several SaaS applications, allowing these applications to publish events to your event bus.

7. Security and Access Control: EventBridge uses AWS Identity and Access Management (IAM) for authentication and authorization, and you can create IAM policies to control who can send events to your event buses.

8. Scalability and Reliability: EventBridge is a serverless service and automatically scales in response to your traffic patterns, and it ensures reliable event delivery with multiple retries.

In summary, Amazon EventBridge simplifies the process of building and maintaining event-driven applications by allowing you to ingest, filter, transform, and deliver events efficiently and securely.


## AWS Lambda

**AWS Lambda** is a serverless compute service that allows you to run your applications without provisioning or managing servers. It executes your code only when needed and scales automatically, from a few requests per day to thousands per second.

**Here are some important aspects of AWS Lambda**:

1. Event-Driven Execution: AWS Lambda is designed to process events. These events can originate from a variety of sources within AWS like Amazon S3 (a new file has been uploaded), Amazon DynamoDB (a new record has been added to a table), or Amazon API Gateway (an API call has been made), and from outside AWS.

2. Serverless Architecture: With Lambda, you don't need to worry about managing, patching, or scaling servers. Lambda takes care of all these aspects, enabling you to focus on writing code.

3. Scalability: Lambda functions scale automatically and independently. Each trigger of a Lambda function will run in its own isolated environment, parallel to all other triggered functions, allowing high levels of concurrency.

4. Billing: With AWS Lambda, you pay only for the compute time you consume - there is no charge when your code is not running. You are charged for every 100ms your code executes and the number of times your code is triggered.

5. Languages Supported: AWS Lambda supports multiple programming languages through the use of runtime. As of September 2021, these languages include Node.js, Python, Java, Go, .NET (C#), Ruby, and PowerShell. You can also provide a custom runtime to include other programming languages.

6. Integration with AWS Services: Lambda integrates well with other AWS services, making it a key component in serverless applications.

7. Security: Lambda maintains compute resources across multiple Availability Zones in each region to help ensure reliability. The service is also designed to encrypt and keep your data secure during transit and at rest.

8. Statelessness: AWS Lambda is stateless, meaning it doesn't inherently store any session or state information. If you need to preserve state between function invocations, you need to store that state in a database like Amazon DynamoDB or a storage service like Amazon S3.

In summary, AWS Lambda is a cornerstone of serverless architecture on AWS, allowing developers to run code in response to events without needing to manage the underlying compute resources.


## Amazon MQ

**Amazon MQ** is a managed message broker service for Apache ActiveMQ that makes it easy to set up and operate message brokers in the cloud. Message brokers allow different software systems to communicate and exchange information by translating messages between formal messaging protocols.

**Here are some important aspects of Amazon MQ**:

1. Fully Managed: Amazon MQ manages the administrative tasks of your message broker, including setup, monitoring, maintenance, and software upgrades, eliminating the time and effort required to manage the infrastructure.

2. Compatibility: Amazon MQ supports industry-standard APIs and protocols including JMS, NMS, AMQP, STOMP, MQTT, and WebSocket, allowing applications to work seamlessly with the service. This makes it easier to move from any standards-based message broker to Amazon MQ without rewriting the messaging code in your applications.

3. Durability: Amazon MQ stores messages redundantly across multiple Availability Zones (AZs) for message durability.

4. Broker Deployment Modes: Amazon MQ offers two types of broker deployment modes - single-instance brokers for development and testing, and active/standby brokers for production workloads.

5. Security: Amazon MQ includes multiple layers of security. Data at rest is encrypted using KMS keys, and data in transit is encrypted using SSL/TLS. Amazon MQ is also integrated with AWS Identity and Access Management (IAM) to control the actions that your AWS resources can perform.

6. Scalability: Amazon MQ scales according to your needs. It can handle large message volumes with low latency and supports a high number of concurrent connections, thus supporting the growth of your applications without compromising performance.

7. Monitoring and Logging: Amazon MQ is integrated with Amazon CloudWatch and AWS CloudTrail to provide metrics and logging. This makes it easier to monitor broker performance, get operational insights, and troubleshoot any issues.

In summary, Amazon MQ is designed to facilitate and simplify the process of communication between different software systems. It is a robust, scalable, and secure service that takes care of the heavy lifting associated with setting up and managing a message broker.
